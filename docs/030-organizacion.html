<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; La organización de los datos y el flujo de trabajo.Los datos ordenados o arreglados (tidy data) – Introducción a la estadística industrial y la ciencia de datos utilizando Microsoft Excel y R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./040-exploracion.html" rel="next">
<link href="./020-herramientas.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-273e46d7b3848a679358d7b360117b95.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./030-organizacion.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">La organización de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introducción a la estadística industrial y la ciencia de datos utilizando Microsoft Excel y R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefacio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">La estadística en el entorno industrial.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-herramientas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Herramientas para el análisis. La reproducibilidad.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-organizacion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">La organización de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-exploracion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">La exploración de los datos mediante gráficos.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050-estad-simple.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersión: la media y la varianza.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./055-forma-de-los-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La forma de los datos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060-distr-prob.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Probabilidad y distribuciones de probabilidad</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./070-relacion-xy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">La relación entre las variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./080-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">El análisis de la varianza</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./090-sistema-medicion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">El análisis del sistema de medición</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./100-control-proc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">El control estadístico de procesos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./110-disexp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Diseño de experimentos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./120-mejora-calidad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">La calidad y la mejora de la calidad</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./130-comunicacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">La comunicación</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./140-anexo-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anexo: Instalación de R y conceptos básicos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./150-bibliografia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliografía</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#etapas-en-un-flujo-de-trabajo-estructurado." id="toc-etapas-en-un-flujo-de-trabajo-estructurado." class="nav-link active" data-scroll-target="#etapas-en-un-flujo-de-trabajo-estructurado."><span class="header-section-number">3.1</span> Etapas en un flujo de trabajo estructurado.</a>
  <ul class="collapse">
  <li><a href="#recolección-de-datos" id="toc-recolección-de-datos" class="nav-link" data-scroll-target="#recolección-de-datos"><span class="header-section-number">3.1.1</span> Recolección de datos</a></li>
  <li><a href="#inspección-de-los-datos" id="toc-inspección-de-los-datos" class="nav-link" data-scroll-target="#inspección-de-los-datos"><span class="header-section-number">3.1.2</span> Inspección de los datos</a></li>
  <li><a href="#limpieza-de-los-datos" id="toc-limpieza-de-los-datos" class="nav-link" data-scroll-target="#limpieza-de-los-datos"><span class="header-section-number">3.1.3</span> Limpieza de los datos</a></li>
  <li><a href="#transformación-de-los-datos" id="toc-transformación-de-los-datos" class="nav-link" data-scroll-target="#transformación-de-los-datos"><span class="header-section-number">3.1.4</span> Transformación de los datos</a></li>
  <li><a href="#análisis-exploratorio-de-datos-eda" id="toc-análisis-exploratorio-de-datos-eda" class="nav-link" data-scroll-target="#análisis-exploratorio-de-datos-eda"><span class="header-section-number">3.1.5</span> Análisis exploratorio de datos (EDA)</a></li>
  <li><a href="#modelado-de-datos" id="toc-modelado-de-datos" class="nav-link" data-scroll-target="#modelado-de-datos"><span class="header-section-number">3.1.6</span> Modelado de datos</a></li>
  <li><a href="#comunicación-de-resultados" id="toc-comunicación-de-resultados" class="nav-link" data-scroll-target="#comunicación-de-resultados"><span class="header-section-number">3.1.7</span> Comunicación de resultados</a></li>
  </ul></li>
  <li><a href="#razones-para-seguir-un-flujo-de-trabajo" id="toc-razones-para-seguir-un-flujo-de-trabajo" class="nav-link" data-scroll-target="#razones-para-seguir-un-flujo-de-trabajo"><span class="header-section-number">3.2</span> Razones para seguir un flujo de trabajo</a></li>
  <li><a href="#problemas-de-no-seguir-un-flujo-de-trabajo-estructurado" id="toc-problemas-de-no-seguir-un-flujo-de-trabajo-estructurado" class="nav-link" data-scroll-target="#problemas-de-no-seguir-un-flujo-de-trabajo-estructurado"><span class="header-section-number">3.3</span> Problemas de no seguir un flujo de trabajo estructurado</a></li>
  <li><a href="#un-ejemplo-revisando-los-datos-existentes." id="toc-un-ejemplo-revisando-los-datos-existentes." class="nav-link" data-scroll-target="#un-ejemplo-revisando-los-datos-existentes."><span class="header-section-number">3.4</span> Un ejemplo: revisando los datos existentes.</a></li>
  <li><a href="#los-datos-ordenados-o-arreglados-tidy-data" id="toc-los-datos-ordenados-o-arreglados-tidy-data" class="nav-link" data-scroll-target="#los-datos-ordenados-o-arreglados-tidy-data"><span class="header-section-number">3.5</span> Los datos ordenados o arreglados (<em>tidy data</em>)</a></li>
  <li><a href="#qué-es-un-fichero-plano-y-un-fichero-csv" id="toc-qué-es-un-fichero-plano-y-un-fichero-csv" class="nav-link" data-scroll-target="#qué-es-un-fichero-plano-y-un-fichero-csv"><span class="header-section-number">3.6</span> Qué es un fichero plano y un fichero CSV</a>
  <ul class="collapse">
  <li><a href="#cómo-exportar-un-fichero-csv-desde-excel-a-r" id="toc-cómo-exportar-un-fichero-csv-desde-excel-a-r" class="nav-link" data-scroll-target="#cómo-exportar-un-fichero-csv-desde-excel-a-r"><span class="header-section-number">3.6.1</span> Cómo exportar un fichero CSV desde Excel a R</a></li>
  </ul></li>
  <li><a href="#uso-de-los-filtros-de-excel-para-revisar-y-editar-los-datos" id="toc-uso-de-los-filtros-de-excel-para-revisar-y-editar-los-datos" class="nav-link" data-scroll-target="#uso-de-los-filtros-de-excel-para-revisar-y-editar-los-datos"><span class="header-section-number">3.7</span> Uso de los filtros de Excel para revisar y editar los datos</a></li>
  <li><a href="#para-resolver" id="toc-para-resolver" class="nav-link" data-scroll-target="#para-resolver"><span class="header-section-number">3.8</span> Para resolver</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">La organización de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Un <strong>flujo de trabajo en análisis de datos</strong> es un proceso sistemático y estructurado que guía la manipulación, exploración y análisis de datos desde su recolección hasta la obtención de resultados finales y su comunicación. Es una hoja de ruta que asegura que cada paso se realice de manera ordenada, eficiente y reproducible, facilitando la comprensión y utilización de los datos.</p>
<p>Hadley Wickham <span class="citation" data-cites="wickham2023">(<a href="150-bibliografia.html#ref-wickham2023" role="doc-biblioref">Garret Grolemund Hadley Wickham Mine Çetinkaya-Rundel 2023</a>)</span> ha propuesto un método de flujo de trabajo que se ha convertido en estándar en la ciencia de datos (hay versión en español: <span class="citation" data-cites="wickham2023es">(<a href="150-bibliografia.html#ref-wickham2023es" role="doc-biblioref">Garret Grolemund Hadley Wickham 2023</a>)</span>)</p>
<p><img src="01-imagenes/data-science-explore.svg" class="img-fluid"></p>
<p>Este flujo de trabajo abarca diversas actividades como la importación de datos, su limpieza y transformación, el análisis exploratorio, y el modelado, culminando en la interpretación y presentación de los resultados. Todo esto se hace siguiendo metodologías específicas para asegurar la calidad y precisión del análisis.</p>
<p>La importancia de seguir un flujo de trabajo bien definido radica en la capacidad de replicar estudios, minimizar errores y fomentar la transparencia, permitiendo que cualquier persona pueda entender y validar las decisiones tomadas durante el análisis. Además, mejora la eficiencia al estandarizar procedimientos y facilita la colaboración entre diferentes analistas o equipos de trabajo.</p>
<section id="etapas-en-un-flujo-de-trabajo-estructurado." class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="etapas-en-un-flujo-de-trabajo-estructurado."><span class="header-section-number">3.1</span> Etapas en un flujo de trabajo estructurado.</h2>
<section id="recolección-de-datos" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="recolección-de-datos"><span class="header-section-number">3.1.1</span> Recolección de datos</h3>
<p>La primera etapa es la <strong>recolección de datos</strong>. Esto implica obtener datos desde diversas fuentes como archivos CSV, bases de datos, APIs, etc. La recolección de datos es fundamental porque la calidad del análisis depende de la calidad de los datos recolectados.</p>
</section>
<section id="inspección-de-los-datos" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="inspección-de-los-datos"><span class="header-section-number">3.1.2</span> Inspección de los datos</h3>
<p>Una vez recolectados, se procede a <strong>inspeccionar los datos</strong> para entender su estructura y contenido. Esto incluye examinar los tipos de datos, la presencia de valores faltantes, duplicados y la distribución de las variables.</p>
</section>
<section id="limpieza-de-los-datos" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="limpieza-de-los-datos"><span class="header-section-number">3.1.3</span> Limpieza de los datos</h3>
<p>La <strong>limpieza de datos</strong> es crucial para asegurar que la información sea precisa y esté en el formato adecuado. Esta etapa incluye:</p>
<ul>
<li>Manejo de valores faltantes.</li>
<li>Eliminación de duplicados.</li>
<li>Corrección de inconsistencias.</li>
<li>Transformación de datos a un formato adecuado para el análisis.</li>
</ul>
</section>
<section id="transformación-de-los-datos" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="transformación-de-los-datos"><span class="header-section-number">3.1.4</span> Transformación de los datos</h3>
<p>Transformar los datos a un formato <strong>ordenado o arreglado</strong> (<em>tidy</em>) es esencial. Según Wickham, los datos <strong>arreglados</strong> tienen una estructura clara: cada variable es una columna, cada observación es una fila, y cada valor tiene su propia celda. Este formato facilita el análisis y la visualización de datos.</p>
</section>
<section id="análisis-exploratorio-de-datos-eda" class="level3" data-number="3.1.5">
<h3 data-number="3.1.5" class="anchored" data-anchor-id="análisis-exploratorio-de-datos-eda"><span class="header-section-number">3.1.5</span> Análisis exploratorio de datos (EDA)</h3>
<p>El <strong>Análisis Exploratorio de Datos (EDA)</strong> busca entender los patrones y relaciones en los datos mediante estadísticas descriptivas y visualizaciones. Durante esta etapa se realizan:</p>
<ul>
<li>Estadísticas básicas (media, mediana, desviación estándar).</li>
<li>Gráficos y diagramas para visualizar la distribución de los datos y las relaciones entre variables.</li>
</ul>
</section>
<section id="modelado-de-datos" class="level3" data-number="3.1.6">
<h3 data-number="3.1.6" class="anchored" data-anchor-id="modelado-de-datos"><span class="header-section-number">3.1.6</span> Modelado de datos</h3>
<p>Dependiendo del objetivo del análisis, se pueden aplicar diversos modelos estadísticos para extraer información y hacer predicciones. Esto puede incluir:</p>
<ul>
<li>Modelos de regresión.</li>
<li>Análisis de clasificación.</li>
<li>Modelos de series temporales, entre otros.</li>
</ul>
</section>
<section id="comunicación-de-resultados" class="level3" data-number="3.1.7">
<h3 data-number="3.1.7" class="anchored" data-anchor-id="comunicación-de-resultados"><span class="header-section-number">3.1.7</span> Comunicación de resultados</h3>
<p>Finalmente, es fundamental <strong>comunicar los resultados</strong> de manera clara y efectiva. Esto se hace a través de:</p>
<ul>
<li>Tablas y resúmenes interpretativos.</li>
<li>Gráficos y visualizaciones.</li>
<li>Informes y presentaciones que expliquen los hallazgos y sus implicaciones.</li>
</ul>
<p>Siguiendo estos pasos, puedes manejar y analizar datos de manera organizada y reproducible, facilitando la colaboración y la toma de decisiones informadas. Este flujo de trabajo asegura que los datos se traten de manera sistemática, desde su recolección hasta la comunicación de los resultados.</p>
</section>
</section>
<section id="razones-para-seguir-un-flujo-de-trabajo" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="razones-para-seguir-un-flujo-de-trabajo"><span class="header-section-number">3.2</span> Razones para seguir un flujo de trabajo</h2>
<ol type="1">
<li><p><strong>Reproducibilidad</strong>: Un flujo de trabajo organizado permite que los análisis sean reproducibles. Otros pueden seguir los mismos pasos para obtener resultados similares, lo que es crucial en la investigación y en la toma de decisiones basadas en datos.</p></li>
<li><p><strong>Consistencia</strong>: Ayuda a asegurar que los pasos se realizan de manera consistente cada vez que se ejecuta el análisis, reduciendo la posibilidad de errores humanos.</p></li>
<li><p><strong>Transparencia</strong>: Proporciona un registro claro de los pasos tomados durante el análisis, facilitando la revisión y validación de los resultados.</p></li>
<li><p><strong>Eficiencia</strong>: Mejora la eficiencia al estandarizar el proceso, permitiendo a los analistas concentrarse en el análisis y la interpretación de los datos en lugar de tareas repetitivas.</p></li>
<li><p><strong>Colaboración</strong>: Facilita la colaboración entre equipos, ya que los flujos de trabajo bien documentados permiten que otros comprendan fácilmente los métodos y pasos utilizados.</p></li>
<li><p><strong>Adaptabilidad</strong>: Permite adaptar y ajustar el análisis de manera más fácil cuando se presentan nuevos datos o cuando cambian los objetivos del análisis.</p></li>
</ol>
</section>
<section id="problemas-de-no-seguir-un-flujo-de-trabajo-estructurado" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="problemas-de-no-seguir-un-flujo-de-trabajo-estructurado"><span class="header-section-number">3.3</span> Problemas de no seguir un flujo de trabajo estructurado</h2>
<ol type="1">
<li><p><strong>Errores y Sesgos</strong>: La falta de un enfoque estructurado puede resultar en errores y sesgos inadvertidos en el análisis, lo que puede llevar a conclusiones incorrectas.</p></li>
<li><p><strong>Dificultad para Replicar Resultados</strong>: Sin un flujo de trabajo claro, replicar resultados se vuelve complicado, lo que puede afectar la credibilidad del análisis y la capacidad de validación por otros.</p></li>
<li><p><strong>Falta de Documentación</strong>: La ausencia de una documentación adecuada dificulta entender los pasos y las decisiones tomadas durante el análisis, lo que puede ser un obstáculo en auditorías y revisiones.</p></li>
<li><p><strong>Ineficiencia</strong>: Sin una estructura clara, los analistas pueden gastar tiempo valioso realizando tareas repetitivas y resolviendo problemas que podrían haberse evitado con un enfoque más organizado.</p></li>
<li><p><strong>Problemas de Colaboración</strong>: La colaboración se vuelve más difícil si los miembros del equipo no pueden seguir o entender los pasos tomados por otros, lo que puede llevar a malentendidos y duplicación de esfuerzos.</p></li>
<li><p><strong>Dificultad para Adaptarse a Cambios</strong>: Sin un flujo de trabajo definido, adaptar el análisis a nuevos datos o cambios en los objetivos puede ser más complejo y propenso a errores.</p></li>
</ol>
<p>En resumen, seguir un flujo de trabajo estructurado es esencial para garantizar la precisión, eficiencia, y reproducibilidad del análisis de datos, evitando problemas que puedan comprometer la integridad y utilidad de los resultados. .</p>
</section>
<section id="un-ejemplo-revisando-los-datos-existentes." class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="un-ejemplo-revisando-los-datos-existentes."><span class="header-section-number">3.4</span> Un ejemplo: revisando los datos existentes.</h2>
<p>Cuando nos incorporamos a un equipo de trabajo existente, lo más seguro es que ya se disponga de un sistema de archivo de los datos, de acuerdo con los métodos habituales del equipo. En muchos casos, el diseño de la captura de datos sigue aproximadamente el modelo manual en papel; se introducen los datos en la hoja de cálculo y una vez completados, se imprime el documento para su archivo.</p>
<p>El error más común que se suele cometer es, precisamente, tratar la hoja de cálculo como un bloc de notas, es decir, hacer anotaciones de forma libre, colocar los datos y el resultado de los análisis al lado y en cualquier parte de la hoja, y apoyarnos en el contexto para interpretar lo que hemos guardado. Pero para que el ordenador sea capaz de analizar nuestros datos de manera eficiente, debemos estructurarlos de tal forma que el programa use la información tal como nosotros queremos.</p>
<p>Es común utilizar una hoja para guardar múltiples tablas de datos, tal como vemos en la <a href="#fig-excel_mess" class="quarto-xref">Figura&nbsp;<span>3.1</span></a>. Esta estructura, sin embargo, resulta enormemente confusa para su análisis, o lo imposibilita completamente.</p>
<div id="fig-excel_mess" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-excel_mess-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-imagenes/excel_mess.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-excel_mess-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3.1: Hoja Excel desordenada: ¡No hagas esto!
</figcaption>
</figure>
</div>
<p>En otros casos, los datos se guardan en hojas de cálculo que se componen de diferentes pestañas para cada semana, cada mes o cada año, como vemos en la <a href="#fig-2021-09-1_excel_1" class="quarto-xref">Figura&nbsp;<span>3.2</span></a>. Sin embargo, esta forma de almacenar los datos tampoco es la óptima para su análisis.</p>
<div id="fig-2021-09-1_excel_1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2021-09-1_excel_1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-imagenes/2021-09-1_excel_1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2021-09-1_excel_1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3.2: Hoja Excel con una estructura no ordenada
</figcaption>
</figure>
</div>
<p>Si las diferentes tablas presentan situaciones diferentes, o datos que no están relacionados, podemos utilizar diferentes pestañas. Pero si los datos están vinculados, por ejemplo, se corresponden con las mismas medidas, hechas en fechas diferentes (meses, años), la respuesta es que las pestañas no son la forma correcta de almacenarlos datos; lo mejor es añadir una variable que nos permita diferenciar los datos por fecha; nuestro programa de análisis nos permitirá <em>filtrar</em> los datos según la fecha que deseemos, y todos estarán en una única tabla, facilitando la coherencia y el análisis posterior.</p>
<p>Hay muchas formas de almacenar la información en una hoja de cálculo, pero sólo la estructura de <strong>datos ordenados o arreglados</strong> facilita la utilización de los datos tanto por la hoja de cálculo como por otros programas de análisis.</p>
</section>
<section id="los-datos-ordenados-o-arreglados-tidy-data" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="los-datos-ordenados-o-arreglados-tidy-data"><span class="header-section-number">3.5</span> Los datos ordenados o arreglados (<em>tidy data</em>)</h2>
<p>De la misma manera que la gramática permite ordenar y estructurar un escrito de acuerdo a reglas comunes, hay reglas para que el almacenamiento de los datos sea lo más homogéneo posible y se reduzcan los errores al mínimo.</p>
<p>Las reglas principales al almacenar nuestros datos en una hoja de cálculo son tres:</p>
<ul>
<li><p>columnas=variables,</p></li>
<li><p>filas=observaciones,</p></li>
<li><p>celdas=valores.</p></li>
</ul>
<p>Cada variable debe tener su propia columna, cada observación debe tener su propia fila, y cada valor debe tener su propia celda o casilla .</p>
<p>Estas tres reglas básicas son las que hacen que nuestro conjunto de datos sea <strong>ordenado (o arreglado)</strong><span class="citation" data-cites="wickham2023">(<a href="150-bibliografia.html#ref-wickham2023" role="doc-biblioref">Garret Grolemund Hadley Wickham Mine Çetinkaya-Rundel 2023</a>)</span> (hay edición <em>online</em> en español: <span class="citation" data-cites="wickham2023es">(<a href="150-bibliografia.html#ref-wickham2023es" role="doc-biblioref">Garret Grolemund Hadley Wickham 2023</a>)</span>:</p>
<p>La <a href="#fig-tidy" class="quarto-xref">Figura&nbsp;<span>3.3</span></a> muestra estas reglas de forma visual.</p>
<div id="fig-tidy" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tidy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-imagenes/tidy-1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tidy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3.3: Sigue estas tres reglas para tener un conjunto de datos ordenado: las variables están en columnas, las observaciones están en filas, y los valores están en celdas. Fuente de la imagen: <span class="citation" data-cites="wickham2023">Garret Grolemund Hadley Wickham Mine Çetinkaya-Rundel (<a href="150-bibliografia.html#ref-wickham2023" role="doc-biblioref">2023</a>)</span>
</figcaption>
</figure>
</div>
<p>Estas tres reglas están interrelacionadas porque es imposible satisfacer sólo dos de tres.</p>
<p>En una hoja de cálculo, una tabla de datos arreglada tendría este aspecto:</p>
<div id="fig-excel-camembert" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-excel-camembert-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-imagenes/2023-11-17.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-excel-camembert-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3.4: Hoja Excel con estructura rectangular de datos ordenados
</figcaption>
</figure>
</div>
<p>Datos rectangulares: formato tabla</p>
</section>
<section id="qué-es-un-fichero-plano-y-un-fichero-csv" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="qué-es-un-fichero-plano-y-un-fichero-csv"><span class="header-section-number">3.6</span> Qué es un fichero plano y un fichero CSV</h2>
<p>Se suele llamar <strong>fichero plano</strong> a un fichero de datos de texto sin ningún tipo de formato, donde los datos están separados por espacios o tabulaciones. Muchos equipos automáticos, como balanzas de laboratorio o básculas de proceso, producen ficheros planos de texto, que se pueden importar a Excel o R. Un <a href="https://es.wikipedia.org/wiki/Valores_separados_por_comas">fichero CSV</a> es un fichero plano en el que los valores están separados por un carácter especial, llamado <strong>separador</strong>. Este separador puede ser una coma <code>,</code> (cuando los decimales se separan mediante un punto, como en EEUU) o un punto y coma <code>;</code> (cuando los decimales se separan mediante una coma, como en España)</p>
<div id="fig-ficheros-texto" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ficheros-texto-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/fichero_txt.png" class="img-fluid figure-img"></p>
<figcaption>Fichero plano separado por espacios</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/fichero-csv-comas.png" class="img-fluid figure-img"></p>
<figcaption>Fichero CSV separado por comas (USA, GB)</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/fichero-csv-europeo.png" class="img-fluid figure-img"></p>
<figcaption>Fichero CSV separado por puntos y comas (Europa, España)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ficheros-texto-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3.5: Tres tipos de ficheros planos de texto.
</figcaption>
</figure>
</div>
<p>En un fichero plano o en un fichero CSV, la primera fila puede contener los nombres de las columnas. En algunos casos, los elementos de texto pueden estar entre comillas. En estos casos, los programas de importación se ocupan de la conversión de formatos.</p>
<p>La importación de un fichero CSV en Excel en español es directa si se ha generado con puntos y comas como separador y comas para los decimales; si no es así, nos aparecerá como un fichero plano de texto sin formato, y tendremos que realizar una conversión.</p>
<section id="cómo-exportar-un-fichero-csv-desde-excel-a-r" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="cómo-exportar-un-fichero-csv-desde-excel-a-r"><span class="header-section-number">3.6.1</span> Cómo exportar un fichero CSV desde Excel a R</h3>
<p>Una vez que tenemos nuestros datos en Excel, hay dos formas en las que podemos poner los datos a disposición de R para su análisis: exportarlos a un archivo de texto con <strong>formato CSV</strong>, o leer directamente los datos de Excel desde R utilizando la función <code>read_excel()</code> de la librería <code>tidyverse</code>. En ambos casos, el resultado en R es un <strong>dataframe</strong> o <strong>cuadro de datos</strong>, que es una estructura equivalente a la de nuestra tabla de datos en Excel.</p>
<p>En el ejemplo, utilizaremos un fichero CSV y lo leeremos utilizando una función de base R.</p>
<section id="paso-1-guardar-el-fichero-csv-desde-excel" class="level4" data-number="3.6.1.1">
<h4 data-number="3.6.1.1" class="anchored" data-anchor-id="paso-1-guardar-el-fichero-csv-desde-excel"><span class="header-section-number">3.6.1.1</span> Paso 1: Guardar el Fichero CSV desde Excel</h4>
<ol type="1">
<li>Abre tu fichero en Excel.</li>
<li>Selecciona <strong>Archivo</strong> &gt; <strong>Guardar como</strong>.</li>
<li>Elige el formato <strong>CSV (delimitado por comas) (*.csv)</strong>.</li>
<li>Guarda el archivo.</li>
</ol>
</section>
<section id="paso-2-importar-el-csv-en-r-usando-base-r" class="level4" data-number="3.6.1.2">
<h4 data-number="3.6.1.2" class="anchored" data-anchor-id="paso-2-importar-el-csv-en-r-usando-base-r"><span class="header-section-number">3.6.1.2</span> Paso 2: Importar el CSV en R usando Base R</h4>
<div class="content-visible callout callout-style-default callout-tip no-icon callout-titled" data-when-format="html">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Explicación del código R
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Línea 1: Lectura del archivo CSV</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">"ruta/al/archivo.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">dec =</span> <span class="st">","</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><p><strong><code>datos &lt;-</code></strong>: Este símbolo <code>&lt;-</code> se utiliza para asignar el resultado de la función a un objeto llamado <code>datos</code>. En este caso, <code>datos</code> contendrá los datos leídos desde el archivo CSV.</p></li>
<li><p><strong><code>read.csv2(...)</code></strong>: Esta es una función en R que se utiliza para leer archivos CSV. La versión <code>read.csv2</code> se usa comúnmente en Europa y otros lugares donde el separador de campo estándar es el punto y coma (<code>;</code>) y el separador decimal es la coma (<code>,</code>).</p></li>
<li><p><strong>Parámetros de <code>read.csv2</code></strong>:</p>
<ul>
<li><strong><code>"ruta/al/archivo.csv"</code></strong>: Especifica la ruta y el nombre del archivo CSV que deseas leer.</li>
<li><strong><code>header = TRUE</code></strong>: Indica que el archivo CSV tiene una fila de encabezado que contiene los nombres de las columnas.</li>
<li><strong><code>sep = ";"</code></strong>: Especifica que el separador de campos en el archivo CSV es el punto y coma (<code>;</code>).</li>
<li><strong><code>dec = ","</code></strong>: Indica que el separador decimal en el archivo CSV es la coma (<code>,</code>).</li>
</ul></li>
</ol>
<p><strong>Línea 2: Mostrar las primeras filas del datosframe</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><strong><code>head(datos)</code></strong>: Esta función muestra las primeras 6 filas del dataframe <code>datos</code> (puedes cambiar el número de filas que muestra añadiendo un número como argumento: <code>head(data, 10)</code> mostrará las primeras 10 filas). Esta es una forma útil de inspeccionar rápidamente los datos que has cargado en R.</li>
</ul>
<p><strong>Resumen</strong></p>
<p>Este código lee un archivo CSV con datos delimitados por punto y coma y con comas como separadores decimales, y almacena los datos en un dataframe llamado <code>datos</code>. Luego, utiliza la función <code>head()</code> para mostrar las primeras 6 filas del dataframe, permitiéndote inspeccionar los datos rápidamente.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">"excel-R/aula1.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">dec =</span> <span class="st">","</span>, <span class="at">fileEncoding =</span> <span class="st">"latin1"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   nombre altura_cm
1    Luis       153
2     Ana       135
3    Iván       140
4   Lucía       140
5 Jessica       175
6 Antonio       138</code></pre>
</div>
</div>
<div class="content-visible callout callout-style-default callout-note no-icon callout-titled" data-when-format="html">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Practica con el CSV
</div>
</div>
<div class="callout-body-container callout-body">
<p>Prueba a guardar y recuperar tus datos en formato CSV</p>
</div>
</div>
</section>
</section>
</section>
<section id="uso-de-los-filtros-de-excel-para-revisar-y-editar-los-datos" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="uso-de-los-filtros-de-excel-para-revisar-y-editar-los-datos"><span class="header-section-number">3.7</span> Uso de los filtros de Excel para revisar y editar los datos</h2>
</section>
<section id="para-resolver" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="para-resolver"><span class="header-section-number">3.8</span> Para resolver</h2>
<p>Poner aquí distintos ejemplos de nombres de variables para ver si son válidos o no. Describir medidas y preguntar cómo llamaríamos a esa variable (por ejemplo, temperatura de la leche que acabamos de descargar de una cisterna)</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-wickham2023es" class="csl-entry" role="listitem">
Hadley Wickham, Garret Grolemund. 2023. <span>«R Para Ciencia de Datos»</span>. 2023. <a href="https://es.r4ds.hadley.nz/">https://es.r4ds.hadley.nz/</a>.
</div>
<div id="ref-wickham2023" class="csl-entry" role="listitem">
Hadley Wickham, Garret Grolemund, Mine Çetinkaya-Rundel. 2023. <em>R for Data Science, 2nd ed.</em> 1005 Gravenstein Highway North, Sebastopol, CA95472: O’Reilly Media Inc. <a href="https://r4ds.hadley.nz/">https://r4ds.hadley.nz/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./020-herramientas.html" class="pagination-link" aria-label="Herramientas para el análisis. La reproducibilidad.">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Herramientas para el análisis. La reproducibilidad.</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./040-exploracion.html" class="pagination-link" aria-label="La exploración de los datos mediante gráficos.">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">La exploración de los datos mediante gráficos.</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>